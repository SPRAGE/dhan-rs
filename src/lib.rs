//! # dhan-rs
//!
//! An **unofficial** Rust client library for the
//! [DhanHQ Broker API v2](https://dhanhq.co/docs/v2/).
//!
//! ## ⚠️ AI-Generated Code Disclaimer
//!
//! **This entire crate was generated by AI.** While it compiles and follows the
//! DhanHQ API v2 specification, it has **not been extensively tested** against
//! the live API. Before using this in production or with real money, please:
//!
//! - Review the source code thoroughly
//! - Write your own integration tests
//! - Validate all order placement, modification, and cancellation flows
//! - Verify WebSocket market feed parsing against real data
//!
//! **The authors accept no responsibility for financial losses incurred through
//! the use of this library.**
//!
//! ## Overview
//!
//! `dhan-rs` provides a complete, strongly-typed async Rust client for all
//! DhanHQ v2 REST endpoints and WebSocket streams:
//!
//! - **55+ REST API methods** covering orders, portfolio, market data,
//!   historical data, option chains, funds, statements, and more
//! - **Live Market Feed** via WebSocket with zero-copy binary packet parsing
//! - **Live Order Updates** via WebSocket with JSON message streaming
//! - **Rich error handling** with [`DhanError`] covering API errors, HTTP
//!   errors, JSON deserialization errors, and WebSocket errors
//!
//! ## Quick Start
//!
//! ```no_run
//! use dhan_rs::DhanClient;
//! use dhan_rs::types::orders::PlaceOrderRequest;
//! use dhan_rs::types::enums::*;
//!
//! #[tokio::main]
//! async fn main() -> dhan_rs::Result<()> {
//!     // Create a client with your DhanHQ credentials
//!     let client = DhanClient::new("your-client-id", "your-access-token");
//!
//!     // Place an order
//!     let req = PlaceOrderRequest {
//!         dhan_client_id: Some("your-client-id".into()),
//!         transaction_type: TransactionType::BUY,
//!         exchange_segment: ExchangeSegment::NSE_EQ,
//!         product_type: ProductType::INTRADAY,
//!         order_type: OrderType::LIMIT,
//!         validity: Validity::DAY,
//!         security_id: "1333".into(),
//!         quantity: 1,
//!         price: Some(1500.0),
//!         ..Default::default()
//!     };
//!     let response = client.place_order(&req).await?;
//!     println!("Order placed: {:?}", response);
//!
//!     // Fetch holdings
//!     let holdings = client.get_holdings().await?;
//!     println!("Holdings: {} instruments", holdings.len());
//!
//!     Ok(())
//! }
//! ```
//!
//! ## WebSocket Streaming
//!
//! ### Market Feed (Binary)
//!
//! ```no_run
//! use dhan_rs::ws::market_feed::{MarketFeedStream, Instrument};
//! use dhan_rs::types::enums::FeedRequestCode;
//! use futures_util::StreamExt;
//!
//! # #[tokio::main]
//! # async fn main() -> dhan_rs::Result<()> {
//! let mut stream = MarketFeedStream::connect("client-id", "token").await?;
//!
//! let instruments = vec![Instrument::new("NSE_EQ", "1333")];
//! stream.subscribe(FeedRequestCode::SubscribeTicker, &instruments).await?;
//!
//! while let Some(event) = stream.next().await {
//!     println!("{event:?}");
//! }
//! # Ok(())
//! # }
//! ```
//!
//! ### Order Updates (JSON)
//!
//! ```no_run
//! use dhan_rs::ws::order_update::OrderUpdateStream;
//! use futures_util::StreamExt;
//!
//! # #[tokio::main]
//! # async fn main() -> dhan_rs::Result<()> {
//! let mut stream = OrderUpdateStream::connect("client-id", "token").await?;
//!
//! while let Some(msg) = stream.next().await {
//!     match msg {
//!         Ok(update) => println!("Order update: {:?}", update.Data.Status),
//!         Err(e) => eprintln!("Error: {e}"),
//!     }
//! }
//! # Ok(())
//! # }
//! ```
//!
//! ## Module Organization
//!
//! - [`client`] — The [`DhanClient`] HTTP client with authentication
//! - [`error`] — [`DhanError`] enum and [`Result`] alias
//! - [`constants`] — Base URLs, WebSocket URLs, rate limit values
//! - [`types`] — Request/response structs and shared enums
//! - [`api`] — REST endpoint implementations (methods on `DhanClient`)
//! - [`ws`] — WebSocket streaming (market feed + order updates)
//!
//! ## Feature Flags
//!
//! This crate currently has no optional feature flags. All functionality is
//! included by default.

#![warn(missing_docs)]
#![allow(clippy::doc_markdown)]
#![doc(html_root_url = "https://docs.rs/dhan-rs/0.1.0")]

pub mod api;
pub mod client;
pub mod constants;
pub mod error;
pub mod types;
pub mod ws;

/// Re-export the main client type at crate root for convenience.
pub use client::DhanClient;
/// Re-export the error type and Result alias.
pub use error::{DhanError, Result};
